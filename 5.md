# データの永続化とSQL

## 今回の目標
* データの永続化になぜデータベースを使うべきなのかを説明できるようになる
* PythonからSQLite3に接続する方法がわかる

## htmlとcss

### htmlとは?cssとは?
HTMLとはWebページを記述するためのマークアップ言語で文書の論理構造を規定する。
HTMLには複数の規格が存在するが、現在よく使われているのはhtml5である。

一方CSSはデザインを規定する。
CSSも同様に複数の規格が存在するが、現在よく使われているのはcss3である。

一般にHTMLで論理構造を書き、それにCSSを適応して綺麗にしていくというのが、
基本的な考え方だ。

### htmlの雛形
htmlはタグを用いて記述する。
一般的にタグには


<tag>hogehoge</tag>

というように<,>で囲まれた開始タグと<,/>で囲まれた終了タグがあり、
その間に要素を書く(ここではhogehoge)ことでその要素がtagによってマークアップされる。
また、終了タグがないタグ(例えば画像を貼るなど)も存在する。



style.cssというcssを読み込み表示する最低限のサンプルは下記となる。
適当な名前(index.htmlなど)で保存しブラウザで開いてほしい。

```
<!DOCTYPE html>
<html lang="ja">
    <head>
        <meta charset="UTF-8">
        <title>タイトル</title>
        <link rel="stylesheet" type="text/css" href="style.css" />
        <!--&#91;if lt IE 9&#93;>
        <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <!&#91;endif&#93;-->
    </head>
    <body>
    コンテンツの中身
    </body>
</html>
```

ちなみに

```
<!--&#91;if lt IE 9&#93;>
<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<!&#91;endif&#93;-->
```
の部分はIE9に対応するためのものだ。
IE9をサポートしない場合はここを削除しても問題ない(2016/01/12以降はvistaのみ)

### 見出し
よく使うタグに見出しを定義するタグがある。
見出しのレベルにおおじてh1からh6まで存在する。
例えば

```
<!DOCTYPE html>
<html lang="ja">
    <head>
        <meta charset="UTF-8">
        <title>タイトル</title>
        <link rel="stylesheet" type="text/css" href="style.css" />
        <!--&#91;if lt IE 9&#93;>
        <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <!&#91;endif&#93;-->
    </head>
    <body>
    <h1>見出し</h1>
    内容
    内容
    <h2>小見出し1<h2>
    内容内容
    <h2>小見出し2<h2>
    内容内容

    </body>
</html>
```

というようにする。

### リスト
リストには順序付きリストと順序なしリストが存在する。
順序なしリストを作るタグは

### リンク
リンクを貼ることによって、

### フォーム

```
<!DOCTYPE html>
<html lang="ja">
    <head>
        <meta charset="UTF-8">
        <title>ログイン</title>
        <link rel="stylesheet" type="text/css" href="{{url_for('static', filename='style.css')}}" />
        <!--&#91;if lt IE 9&#93;>
        <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <!&#91;endif&#93;-->
    </head>
    <body>

        <form action="/login" method="post">
            <h1>Login</h1>
            <input type="text" name="name" placeholder="Username" required/>
            <input type="password" name="pass" placeholder="Password" required/>
            <button>Login</button>
        </form>

    </body>
</html>
```




## データの永続化について

### Webアプリケーションの特性とファイルによる管理の問題

#### トランザクション

#### 検索効率

## データベース
d
### sqlite3

### SQL入門


### Pythonからsqlite3を使う


## クラス
Pythonにおいてすべてはオブジェクトである。
そして、オブジェクトの設計図を定義する文法がクラスである。
たとえば、人を表すPersonクラスを実装してみよう。

```
class Person:
    def __init__(self, name, age)
        self.name=name
        self.age=age

    def show_info(self):
        print("name:"+name+" age:"+str(age))

gates = Person("Gates", 59)

gates.show_info()
print(gates.name)
```

classもインデントによるスコープだ。
Pythonのクラスには属性が定義でき、クラスから創りだしたオブジェクト(インスタンス、ここではgates)はその属性に「.」を用いてアクセスできる。
属性は細かく分けるとデータ属性およびメソッドがある。
平たく行ってしまえば、データ属性、メソッドはそれぞれ同じインスタンスで共有される変数と関数という認識で問題ない。
ここでPersonクラスには下記4つの属性が定義されている。
メソッドとして__init__、show_info、データ属性としてnameとageだ。
各メソッドの第一引数についているselfというものが気になった人がいるかもしれない。
このselfにはインスタンス自身が自動的にはいって渡される(したがって、メソッドを使う側は特に指定しなくても良い)
selfをつかうことでインスタンスのデータ属性などを書き換えることができる。
selfを指定しないでメソッド内で変数にアクセスするとそれはローカル変数が作られてしまうだけなので注意する必要がある。
また__init__メソッドは特殊なメソッドであり、インスタンスを生成するときに呼び出される。
__init__ メソッド内で変数の初期化などをすると良いだろう。また、インスタンスを生成する文法は
Personクラスの場合は

```
gates = Person("Gates", 59)
```

であり一般に


```
インスタンス名 = クラス名(__init__で指定した引数....)
```
という文法となる。
## Noneとis演算子
Pythonには「値がないことを示す値」Noneが存在する。




##問題
