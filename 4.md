# Flask入門

## 今回の目標

## HTTPプロトコル
サーバ・ブラウザ間の通信にはHTTPプロトコルという決まり事が使われることが多い。
その時に重要なのがステータスコードとメソッドだ。
(ちなみにクライアントはブラウザではなくてもよい)

詳細を理解しなくてもよいが概要について理解していたほうが理解が進むと思われるので、
まずはメソッドについて概略した後、
ステータスコードについてしめす。

### メソッド
HTTPでクライアント(ブラウザとか)からサーバーにリクエストを行う方法がメソッドだ。
いくつか種類があるが、ここではGETおよびPOSTメソッドについて解説する。

#### GETメソッド
実は今までもGETメソッドを使ってきている。
普通にURLでアクセスするとGETメソッドになるのだ。?で付加情報を渡すことができる。
たとえば以下の例だ。

https://www.google.co.jp/search?safe=off&hl=ja&site=imghp&tbm=isch&source=hp&biw=&bih=&q=%E3%83%A9%E3%83%BC%E3%83%A1%E3%83%B3&btnG=%E7%94%BB%E5%83%8F%E3%81%A7%E6%A4%9C%E7%B4%A2

抽象化すると

```
URL?パラメータ1名=値&パラメータ2名=値&....
```

というように記述する。

#### POST

## htmlとcss

### htmlとは?cssとは?
HTMLとはWebページを記述するためのマークアップ言語で文書の論理構造を規定する。
HTMLには複数の規格が存在するが、現在よく使われているのはhtml5である。

一方CSSはデザインを規定する。
CSSも同様に複数の規格が存在するが、現在よく使われているのはcss3である。

一般にHTMLで論理構造を書き、それにCSSを適応して綺麗にしていくというのが、
基本的な考え方だ。

### htmlの雛形
htmlはタグを用いて記述する。
一般的にタグには


<tag>hogehoge</tag>

というように<,>で囲まれた開始タグと<,/>で囲まれた終了タグがあり、
その間に要素を書く(ここではhogehoge)ことでその要素がtagによってマークアップされる。
また、終了タグがないタグ(例えば画像を貼るなど)も存在する。



style.cssというcssを読み込み表示する最低限のサンプルは下記となる。
適当な名前(index.htmlなど)で保存しブラウザで開いてほしい。

```
<!DOCTYPE html>
<html lang="ja">
    <head>
        <meta charset="UTF-8">
        <title>タイトル</title>
        <link rel="stylesheet" type="text/css" href="style.css" />
        <!--&#91;if lt IE 9&#93;>
        <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <!&#91;endif&#93;-->
    </head>
    <body>
    コンテンツの中身
    </body>
</html>
```

ちなみに

```
<!--&#91;if lt IE 9&#93;>
<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<!&#91;endif&#93;-->
```
の部分はIE9に対応するためのものだ。
IE9をサポートしない場合はここを削除しても問題ない(2016/01/12以降はvistaのみ)

### 見出し
よく使うタグに見出しを定義するタグがある。
見出しのレベルにおおじてh1からh6まで存在する。
例えば

```
<!DOCTYPE html>
<html lang="ja">
    <head>
        <meta charset="UTF-8">
        <title>タイトル</title>
        <link rel="stylesheet" type="text/css" href="style.css" />
        <!--&#91;if lt IE 9&#93;>
        <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <!&#91;endif&#93;-->
    </head>
    <body>
    <h1>見出し</h1>
    内容
    内容
    <h2>小見出し1<h2>
    内容内容
    <h2>小見出し2<h2>
    内容内容

    </body>
</html>
```

というようにする。

### リスト
リストには順序付きリストと順序なしリストが存在する。
順序なしリストを作るタグは

### リンク
リンクを貼ることによって、

### フォーム
今までユーザからの入力にはURLを書き換えさせることで実現していた。
しかし、そのような方式では一般ユーザは離れていってしまうだろう。
そこでhtmlで直感的な入力フォームを作る。

```
<!DOCTYPE html>
<html lang="ja">
    <head>
        <meta charset="UTF-8">
        <title>ログイン</title>
        <link rel="stylesheet" type="text/css" href="{{url_for('static', filename='style.css')}}" />
        <!--&#91;if lt IE 9&#93;>
        <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <!&#91;endif&#93;-->
    </head>
    <body>

        <form action="/login" method="get">
            <h1>Login</h1>
            <input type="text" name="name" placeholder="Username" required/>
            <input type="password" name="pass" placeholder="Password" required/>
            <button>Login</button>
        </form>

    </body>
</html>
```


## テンプレートエンジン

### テンプレートとは?
テンプレートを説明する前にまず、 今までの知識を用いてブラウザにhtmlを送信して出力してみよう。

以上のように文字列の結合を駆使することでhtmlを送信することができる。
しかし、文字列の構築は定型的で退屈で、そして間違えやすい作業だ。
すこし考えてみると、毎回変わらない部分、動的に変わる部分に別れることがわかる。
また、動的に変わる部分もある規則にしたがって変化することが多い。
そこで、予め変わらない部分をテンプレートとして定義しておき、
それに変わる部分をはめ込むという形でhtmlの生成を簡略化するという作業を
行ってくれるものがテンプレートエンジンだ。

### 最も簡単なテンプレートの利用

Flaskではtemplatesというディレクトリ(Windowsではフォルダ)に入っているものを
自動的にテンプレートと認識しプログラム内部で使うことができるようになっている。
そこで以下のようなディレクトリ・ファイル構成にしてほしい。

### テンプレートの展開
テンプレートの機能はファイルから読み出すだけではない。




##問題
